<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>apiary</title>
</head>
<body>
  <script src="https://api.apiary.io/seeds/embed.js"></script>
  <script>
    var embed = new Apiary.Embed({
      apiBlueprint: "FORMAT: 1A\nHOST: https://api.thefirstclub.com/v2\n\n# TFC API\n\nTFC API is the base for all TFC International API communication.\n\n# Allowed HTTPs requests:\n<pre>\nPOST    : To create resource\nPUT     : Update resource\nPATCH   : Update/Replace a part of a resource\nGET     : Get a resource or list of resources\nDELETE  : To delete resource\n<\/pre>\n\n# Description Of Usual Server Responses:\n- 200 `OK` - the request was successful (some API calls may return 201 instead).\n- 201 `Created` - the request was successful and a resource was created.\n- 204 `No Content` - the request was successful but there is no representation to return (i.e. the response is empty).\n- 304 `Not Modified` - the GET request after completing is successful, but the object has not changed (i.e. no changes on the object).\n- 400 `Bad Request` - the request could not be understood or was missing required parameters.\n- 401 `Unauthorized` - authentication failed or user doesn\'t have permissions for requested operation.\n- 403 `Forbidden` - access denied.\n- 404 `Not Found` - resource was not found.\n- 405 `Method Not Allowed` - requested method is not supported for resource.\n- 409 `Conflict` - the request could not be completed due to a conflict with the current state of the resource. Most likely, the resource already exists.\n\n# Data Structures\n\n## User (object)\n+ id: f434ecd9ea3311e6bdac080027c363c3 (string, required)\n+ name: Sergio Paulino (string, required)\n+ username: spaulino (string, required)\n+ email: sp@thefirstclub.com (string, required)\n+ salt: asdf12345 (string, required)\n+ hash: $2y$10$qa9IR1CfyRtSxJP40N8kR.BbYw4lxvS.bZ6aZaApT7VFdEPPdKel6 (string, required)\n+ role: admin (string, required)\n\n# Users Collection [/users]\n\n### Get Users [GET]\n\n+ Response 200 (application/json)\n  + Attributes (array[User])\n\n+ Response 401 (application/json)\n\n        {\n          \"error\": \"ERR401\",\n          \"message\": \"Authentication failed.\"\n        }\n\n+ Response 404 (application/json)\n\n        {\n          \"error\": \"ERR404\",\n          \"message\": \"No results found.\"\n        }\n\n+ Response 500 (application/json)\n\n        {\n          \"error\": \"ERR500\",\n          \"message\": \"Unexpected Error.\"\n        }\n\n### Create User [POST]\n\n+ Request (aplication/json)\n\n        {\n          \"name\": \"User\",\n          \"username\": \"username\",\n          \"email\": \"email@email.com\",\n          \"salt\": \"user12345\",\n          \"hash\": \"$2y$10$v6ATjcMksk2QWcYRsqqKse2oN9zIaSUCM7ghBOJKNYcR1CglJsUEW\",\n          \"role\": \"api\"\n        }\n\n+ Response 201 (application/json)\n  + Attribute (User)\n\n+ Response 304 (application/json)\n\n+ Response 400 (application/json)\n\n        {\n          \"error\": \"ERR400\",\n          \"message\": \"Incorrect syntax.\"\n        }\n\n+ Response 401 (application/json)\n\n        {\n          \"error\": \"ERR401\",\n          \"message\": \"Authentication failed.\"\n        }\n\n+ Response 403 (application/json)\n\n        {\n          \"error\": \"ERR403\",\n          \"message\": \"Permission denied.\"\n        }\n\n+ Response 404 (application/json)\n\n        {\n          \"error\": \"ERR404\",\n          \"message\": \"Item doesn\'t exist.\"\n        }\n\n+ Response 500 (application/json)\n\n        {\n          \"error\": \"ERR500\",\n          \"message\": \"Unexpected Error.\"\n        }\n\n# User Object [/users/{id}]\n\n### Get User [GET]\n\n+ Parameters\n  + id (String) ... User id. Example: f346ecd9ea3311e6bdac702880c109c3\n\n+ Response 200 (application/json)\n  + Attribute (User)\n\n+ Response 401 (application/json)\n\n        {\n          \"error\": \"ERR401\",\n          \"message\": \"Authentication failed.\"\n        }\n\n+ Response 404 (application/json)\n\n        {\n          \"error\": \"ERR404\",\n          \"message\": \"User doesn\'t exist.\"\n        }\n\n+ Response 500 (application/json)\n\n        {\n          \"error\": \"ERR500\",\n          \"message\": \"Unexpected Error.\"\n        }\n\n### Update User [PUT]\n\n+ Parameters\n  + id (String) ... User id. Example: f346ecd9ea3311e6bdac702880c109c3\n\n+ Request (application/json)\n  + Attribute (User)\n\n+ Response 201 (application/json)\n  + Attribute (User)\n\n+ Response 304 (application/json)\n\n+ Response 400 (application/json)\n\n        {\n          \"error\": \"ERR400\",\n          \"message\": \"Incorrect syntax.\"\n        }\n\n+ Response 401 (application/json)\n\n        {\n          \"error\": \"ERR401\",\n          \"message\": \"Authentication failed.\"\n        }\n\n+ Response 403 (application/json)\n\n        {\n          \"error\": \"ERR403\",\n          \"message\": \"Permission denied.\"\n        }\n\n+ Response 404 (application/json)\n\n        {\n          \"error\": \"ERR404\",\n          \"message\": \"User doesn\'t exist.\"\n        }\n\n+ Response 500 (application/json)\n\n        {\n          \"error\": \"ERR500\",\n          \"message\": \"Unexpected Error.\"\n        }\n\n### Patch User [PATCH]\n\n+ Parameters\n  + id (String) ... User id. Example: f346ecd9ea3311e6bdac702880c109c3\n\n+ Request (application/json)\n\n        {\n          \"email\": \"liame@email.com\",\n          \"salt\": \"user78945\",\n          \"role\": \"admin\"\n        }\n\n+ Response 201 (application/json)\n  + Attribute (User)\n\n+ Response 304 (application/json)\n\n+ Response 400 (application/json)\n\n        {\n          \"error\": \"ERR400\",\n          \"message\": \"Incorrect syntax.\"\n        }\n\n+ Response 401 (application/json)\n\n        {\n          \"error\": \"ERR401\",\n          \"message\": \"Authentication failed.\"\n        }\n\n+ Response 403 (application/json)\n\n        {\n          \"error\": \"ERR403\",\n          \"message\": \"Permission denied.\"\n        }\n\n+ Response 404 (application/json)\n\n        {\n          \"error\": \"ERR404\",\n          \"message\": \"User doesn\'t exist.\"\n        }\n\n+ Response 500 (application/json)\n\n        {\n          \"error\": \"ERR500\",\n          \"message\": \"Unexpected Error.\"\n        }\n\n### Delete User [DELETE]\n\n+ Parameters\n  + id (String) ... User id. Example: f346ecd9ea3311e6bdac702880c109c3\n\n+ Response 204 (application/json)\n\n+ Response 304 (application/json)\n\n+ Response 401 (application/json)\n\n        {\n          \"error\": \"ERR401\",\n          \"message\": \"Authentication failed.\"\n        }\n\n+ Response 403 (application/json)\n\n        {\n          \"error\": \"ERR403\",\n          \"message\": \"Permission denied.\"\n        }\n\n+ Response 404 (application/json)\n\n        {\n          \"error\": \"ERR404\",\n          \"message\": \"User doesn\'t exist.\"\n        }\n\n+ Response 500 (application/json)\n\n        {\n          \"error\": \"ERR500\",\n          \"message\": \"Unexpected Error.\"\n        }\n"
    });

    if (false) {
        var changed = null
        var xhrChanged = new XMLHttpRequest();
        var xhrData = new XMLHttpRequest();
        setInterval(function() {
            xhrChanged.open('GET', window.location.href + "/changed", true);
            xhrChanged.send();

            xhrChanged.onreadystatechange = function() {
                if (xhrChanged.readyState == 4 && xhrChanged.status == 200) {
                    if (!changed) {
                        changed = xhrChanged.responseText
                    }
                    if (changed != xhrChanged.responseText) {
                        changed = xhrChanged.responseText
                        xhrData.open('GET', window.location.href + "/source", true);
                        xhrData.send();

                        xhrData.onreadystatechange = function() {
                            if (xhrData.readyState == 4 && xhrData.status == 200) {
                                embed.iframeElement.contentWindow.postMessage({"origin": embed.ORIGIN, "eventType": "anonymousPreview", "data": {"code": xhrData.responseText}}, '*');
                            }
                        }
                    }
                }
            }
        }, 1000);
    }
  </script>
</body>
</html>
